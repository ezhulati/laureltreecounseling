---
import BaseLayout from '../layouts/BaseLayout.astro';
import Section from '../components/Section.astro';
import BlogCard from '../components/BlogCard.astro';
import CTA from '../components/CTA.astro';
import Icon from '../components/Icon.astro';
import { blogPosts, getFeaturedPosts, getRecentPosts } from '../data/blog-posts';

const featuredPosts = getFeaturedPosts();
const allPosts = getRecentPosts(10);
---

<BaseLayout
  title="Insights"
  description="Expert articles on mental health, wellness, bariatric support, and holistic approaches to therapy from Laurel Tree Counseling."
  ogImage="/images/assets/laurel_tree_counseling_4_(1).webp"
>
  <!-- Hero -->
  <section class="relative bg-gradient-to-br from-primary to-primary-dark overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="/images/assets/laurel_tree_counseling_4_(1).webp"
        alt="Mental health and wellness blog articles from Laurel Tree Counseling"
        width="1920"
        height="1080"
        class="w-full h-full object-cover"
        loading="eager"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-primary/90 to-primary-dark/85"></div>
    </div>
    <div class="container-custom relative z-10 py-16 md:py-20">
      <div class="max-w-3xl">
        <div class="accent-line accent-line-white">
          <h1 class="text-4xl md:text-5xl font-heading font-bold text-white mb-6">
            Insights
          </h1>
        </div>
        <p class="text-xl text-white/90">
          Expert guidance on mental health, wellness, and holistic approaches to support your journey toward lasting well-being.
        </p>
      </div>
    </div>
  </section>

  <!-- Featured Articles -->
  {featuredPosts.length > 0 && (
    <Section>
      <div class="mb-10">
        <div class="accent-line">
          <h2 class="text-2xl font-heading font-bold text-text-primary">
            Featured Articles
          </h2>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-6 stagger-children">
        {featuredPosts.map((post, index) => (
          <div class={`fade-in fade-in-delay-${index + 1}`}>
            <BlogCard {...post} featured={true} />
          </div>
        ))}
      </div>
    </Section>
  )}

  <!-- All Articles -->
  <Section background="surface">
    <div class="mb-10">
      <div class="accent-line">
        <h2 class="text-2xl font-heading font-bold text-text-primary">
          All Articles
        </h2>
      </div>
    </div>

    <div class="grid md:grid-cols-2 gap-6 stagger-children">
      {allPosts.map((post, index) => (
        <div class={`fade-in fade-in-delay-${(index % 6) + 1}`}>
          <BlogCard {...post} />
        </div>
      ))}
    </div>
  </Section>

  <!-- Topics We Cover -->
  <Section>
    <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-start">
      <div class="lg:col-span-2">
        <div class="accent-line">
          <h2 class="text-3xl font-heading font-bold text-text-primary mb-4">
            Topics We Cover
          </h2>
        </div>
        <p class="subtitle">
          Our articles explore the many facets of mental health and wellness, always with a holistic, compassionate perspective.
        </p>
      </div>

      <div class="lg:col-span-3 grid sm:grid-cols-2 gap-6 stagger-children">
        <div class="flex gap-4 fade-in fade-in-delay-1">
          <div class="icon-container-sm flex-shrink-0">
            <Icon name="Brain" size={24} class="text-primary" />
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-primary mb-1">Mental Health</h3>
            <p class="text-text-secondary">Anxiety, depression, trauma, and emotional well-being</p>
          </div>
        </div>

        <div class="flex gap-4 fade-in fade-in-delay-2">
          <div class="icon-container-sm flex-shrink-0">
            <Icon name="Scale" size={24} class="text-primary" />
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-primary mb-1">Bariatric Support</h3>
            <p class="text-text-secondary">Pre and post-surgery emotional wellness</p>
          </div>
        </div>

        <div class="flex gap-4 fade-in fade-in-delay-3">
          <div class="icon-container-sm flex-shrink-0">
            <Icon name="Sparkles" size={24} class="text-primary" />
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-primary mb-1">Wellness</h3>
            <p class="text-text-secondary">Holistic health, self-care, and lifestyle balance</p>
          </div>
        </div>

        <div class="flex gap-4 fade-in fade-in-delay-4">
          <div class="icon-container-sm flex-shrink-0">
            <Icon name="Apple" size={24} class="text-primary" />
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-primary mb-1">Nutrition & Eating</h3>
            <p class="text-text-secondary">Emotional eating, food relationships, and nourishment</p>
          </div>
        </div>
      </div>
    </div>
  </Section>

  <!-- CTA -->
  <CTA
    title="Still Deciding? We're Here to Help"
    description="Book a free 15-minute call to discuss your needs. No pressureâ€”just a conversation."
  />
</BaseLayout>
