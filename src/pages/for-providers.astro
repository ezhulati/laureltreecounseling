---
import BaseLayout from '../layouts/BaseLayout.astro';
import Section from '../components/Section.astro';
import Button from '../components/Button.astro';
import { insurancePlanNames } from '../data/insurance';
import { specialties } from '../data/services';
import { teamForProviders } from '../data/team';
---

<BaseLayout
  title="For Healthcare Providers | Refer a Patient to Laurel Tree"
  description="Refer patients to Laurel Tree Counseling for bariatric support, anxiety, depression, trauma, and nutrition counseling. Easy referral process, virtual sessions across Michigan."
>
  <!-- Hero -->
  <section class="bg-primary-light py-12 md:py-16">
    <div class="container-custom">
      <div class="max-w-3xl">
        <p class="text-primary font-medium mb-2">For Healthcare Providers</p>
        <div class="accent-line">
          <h1 class="text-4xl md:text-5xl font-heading font-bold text-text-primary mb-6">
            Partner With Us for Your Patients' Mental Health
          </h1>
        </div>
        <p class="subtitle text-xl">
          We provide specialized therapy and nutrition counseling for patients navigating bariatric surgery, chronic conditions, anxiety, depression, and life transitions.
        </p>
      </div>
    </div>
  </section>

  <!-- Quick Reference -->
  <Section>
    <div class="grid lg:grid-cols-3 gap-6 lg:gap-8">
      <!-- How Patients Book -->
      <div class="card">
        <div class="w-12 h-12 rounded-full bg-primary-light flex items-center justify-center mb-4">
          <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
        </div>
        <h2 class="text-xl font-bold text-text-primary mb-3">How Patients Book</h2>
        <p class="text-text-secondary mb-4">
          Patients can schedule directly online. No referral paperwork required—just point them our way.
        </p>
        <p class="text-sm text-text-secondary">
          <strong>Free 15-minute consultation</strong> available to determine fit before committing.
        </p>
      </div>

      <!-- Session Format -->
      <div class="card">
        <div class="w-12 h-12 rounded-full bg-primary-light flex items-center justify-center mb-4">
          <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
          </svg>
        </div>
        <h2 class="text-xl font-bold text-text-primary mb-3">Virtual Sessions Statewide</h2>
        <p class="text-text-secondary mb-4">
          All sessions are conducted via secure, HIPAA-compliant telehealth. Patients connect from home—no commute, no waiting room.
        </p>
        <p class="text-sm text-text-secondary">
          <strong>Available to all Michigan residents.</strong>
        </p>
      </div>

      <!-- Contact -->
      <div class="card">
        <div class="w-12 h-12 rounded-full bg-primary-light flex items-center justify-center mb-4">
          <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
        </div>
        <h2 class="text-xl font-bold text-text-primary mb-3">Questions?</h2>
        <p class="text-text-secondary mb-4">
          Reach out if you'd like to discuss a patient's needs or learn more about our services.
        </p>
        <div class="space-y-1 text-sm">
          <p><strong>Phone:</strong> <a href="tel:586-244-8087" class="text-primary hover:text-primary-hover">586-244-8087</a></p>
          <p><strong>Email:</strong> <a href="mailto:info@laureltreecounseling.com" class="text-primary hover:text-primary-hover">info@laureltreecounseling.com</a></p>
        </div>
      </div>
    </div>
  </Section>

  <!-- Download Referral Materials -->
  <Section background="elevated">
    <div class="grid lg:grid-cols-5 gap-8 lg:gap-16 items-center">
      <div class="lg:col-span-3">
        <div class="accent-line">
          <h2 class="text-2xl font-heading font-bold text-text-primary mb-4">
            Referral Materials
          </h2>
        </div>
        <p class="subtitle mb-6 lg:mb-0">
          Download our one-page referral sheet to keep on hand or share with patients. Includes services, insurance, and booking instructions.
        </p>
      </div>
      <div class="lg:col-span-2 flex flex-col sm:flex-row lg:flex-col gap-4 lg:items-end">
        <Button href="/documents/laurel-tree-referral-sheet.pdf" variant="primary" target="_blank">
          Download PDF
        </Button>
        <Button href="https://laureltreecounselingllc.clientsecure.me" variant="secondary" target="_blank">
          Patient Booking Link
        </Button>
      </div>
    </div>
  </Section>

  <!-- Specialties -->
  <Section>
    <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-start">
      <div class="lg:col-span-2">
        <div class="lg:sticky lg:top-24">
          <div class="accent-line">
            <h2 class="text-3xl font-heading font-bold text-text-primary mb-4">
              Our Specialties
            </h2>
          </div>
          <p class="subtitle">
            We focus on the intersection of mental health, medical conditions, and lifestyle change.
          </p>
        </div>
      </div>

      <div class="lg:col-span-3 grid sm:grid-cols-2 gap-6 stagger-children">
        {specialties.map((specialty, index) => (
          <div class={`card fade-in fade-in-delay-${index + 1}`}>
            <h3 class="text-lg font-bold text-text-primary mb-2">{specialty.title}</h3>
            <p class="text-text-secondary text-sm">{specialty.description}</p>
          </div>
        ))}
      </div>
    </div>
  </Section>

  <!-- Insurance -->
  <Section background="surface">
    <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-start">
      <div class="lg:col-span-2">
        <div class="accent-line">
          <h2 class="text-3xl font-heading font-bold text-text-primary mb-4">
            Insurance Accepted
          </h2>
        </div>
        <p class="subtitle">
          Self-pay is also available for patients without coverage.
        </p>
      </div>

      <div class="lg:col-span-3">
        <div class="space-y-3 mb-6">
          {insurancePlanNames.map((plan) => (
            <div class="flex items-center gap-3 p-4 bg-background-surface rounded-lg border border-border">
              <svg class="w-5 h-5 text-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="font-medium text-text-primary">{plan}</span>
            </div>
          ))}
          <div class="flex items-center gap-3 p-4 bg-background-surface rounded-lg border border-border">
            <svg class="w-5 h-5 text-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="font-medium text-text-primary">Self-pay available</span>
          </div>
        </div>
        <div class="bg-background-elevated rounded-lg p-4 border-l-4 border-primary">
          <p class="text-sm text-text-secondary">
            <strong>Note:</strong> Priority Health is under the Cigna umbrella — most hospital system employees in Michigan are covered.
          </p>
        </div>
      </div>
    </div>
  </Section>

  <!-- Our Team -->
  <Section>
    <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-start">
      <div class="lg:col-span-2">
        <div class="accent-line">
          <h2 class="text-3xl font-heading font-bold text-text-primary mb-4">
            Our Clinical Team
          </h2>
        </div>
        <p class="subtitle">
          Experienced clinicians with specialized training in bariatric support, eating disorders, and integrated care.
        </p>
      </div>

      <div class="lg:col-span-3 space-y-6">
        {teamForProviders.map((member) => (
          <div class="card">
            <div class="flex flex-col sm:flex-row gap-4">
              <img
                src={member.image}
                alt={`${member.name}, ${member.credentials}`}
                width="80"
                height="80"
                class="w-20 h-20 rounded-full object-cover flex-shrink-0"
                loading="lazy"
              />
              <div>
                <h3 class="text-xl font-bold text-text-primary">{member.name}, {member.credentials}</h3>
                <p class="text-primary font-medium text-sm mb-2">{member.title}</p>
                <p class="text-text-secondary text-sm mb-3">{member.shortBio}</p>
                <div class="flex flex-wrap gap-2">
                  {member.providerBadges?.map((badge) => (
                    <span class="badge">{badge}</span>
                  ))}
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </Section>

  <!-- CTA -->
  <Section background="elevated">
    <div class="text-center max-w-2xl mx-auto">
      <div class="accent-line accent-line-center">
        <h2 class="text-2xl font-heading font-bold text-text-primary mb-4">
          Ready to Refer a Patient?
        </h2>
      </div>
      <p class="subtitle mb-8">
        Share our booking link directly with patients, or download the referral sheet to keep on hand.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <Button href="https://laureltreecounselingllc.clientsecure.me" variant="primary" target="_blank">
          Patient Booking Link
        </Button>
        <Button href="/documents/laurel-tree-referral-sheet.pdf" variant="outline" target="_blank">
          Download Referral PDF
        </Button>
      </div>
      <p class="text-sm text-text-secondary mt-6">
        Booking link: <code class="bg-background-surface px-2 py-1 rounded text-xs">laureltreecounselingllc.clientsecure.me</code>
      </p>
    </div>
  </Section>
</BaseLayout>
