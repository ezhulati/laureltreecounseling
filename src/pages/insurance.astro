---
import BaseLayout from '../layouts/BaseLayout.astro';
import Section from '../components/Section.astro';
import Button from '../components/Button.astro';
import CTA from '../components/CTA.astro';
import Icon from '../components/Icon.astro';
import { insurancePlans } from '../data/insurance';
---

<BaseLayout
  title="Insurance & Payment"
  description="Learn about insurance plans accepted at Laurel Tree Counseling, including Blue Cross, Aetna, United Healthcare, Cigna, and private pay options."
  ogImage="/images/assets/laurel_tree_counseling_6_(1).webp"
>
  <!-- Hero -->
  <section class="relative bg-gradient-to-br from-primary to-primary-dark overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="/images/assets/laurel_tree_counseling_6_(1).webp"
        alt="Insurance and payment options for therapy at Laurel Tree Counseling Michigan"
        class="w-full h-full object-cover"
        loading="eager"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-primary/90 to-primary-dark/85"></div>
    </div>
    <div class="container-custom relative z-10 py-16 md:py-20">
      <div class="max-w-3xl">
        <div class="accent-line accent-line-white">
          <h1 class="text-4xl md:text-5xl font-heading font-bold text-white mb-6">
            Insurance & Payment
          </h1>
        </div>
        <p class="text-xl text-white/90">
          We accept most major insurance plans and offer flexible payment options to make quality mental health care accessible.
        </p>
      </div>
    </div>
  </section>

  <!-- Insurance Plans -->
  <Section>
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-12">
        <div class="accent-line accent-line-center">
          <h2 class="text-3xl md:text-4xl font-heading font-bold text-text-primary mb-4">
            Insurance Plans We Accept
          </h2>
        </div>
        <p class="subtitle max-w-2xl mx-auto">
          We're in-network with most major insurance providers in Michigan.
        </p>
      </div>

      <!-- Insurance Logos Grid -->
      <div class="grid grid-cols-2 md:grid-cols-3 gap-6 mb-10">
        {insurancePlans.map((plan) => (
          <div class="flex items-center justify-center p-6 bg-background-surface rounded-xl border border-border hover:border-primary hover:shadow-soft transition-all h-24">
            {plan.logo ? (
              <img
                src={plan.logo}
                alt={plan.name}
                class="max-h-12 w-auto object-contain grayscale hover:grayscale-0 transition-all"
                loading="lazy"
              />
            ) : (
              <span class="font-bold text-text-primary text-center">{plan.name}</span>
            )}
          </div>
        ))}
      </div>

      <!-- All In-Network Badge -->
      <div class="text-center mb-10">
        <span class="inline-flex items-center gap-2 px-4 py-2 bg-primary-light text-primary font-medium rounded-full">
          <Icon name="CheckCircle" size={20} />
          All plans listed are In-Network
        </span>
      </div>

      <!-- Info Box -->
      <div class="bg-background-elevated rounded-xl p-6 border-l-4 border-primary">
        <h3 class="text-lg font-bold text-text-primary mb-3">
          Cigna & Priority Health Connection
        </h3>
        <p class="text-text-secondary mb-3">
          Many people don't realize that <strong>Priority Health</strong> is connected to the <strong>Cigna</strong> network. If you have Priority Health insurance (common for Corewell Health / hospital employees), your mental health benefits may be covered under the Cigna behavioral health network.
        </p>
        <p class="text-text-secondary">
          We recommend verifying your specific benefits by calling the number on your insurance card or contacting us directly—we're happy to help you understand your coverage.
        </p>
      </div>
    </div>
  </Section>

  <!-- Verify Coverage -->
  <Section background="surface">
    <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-start">
      <div class="lg:col-span-2">
        <div class="lg:sticky lg:top-24">
          <div class="accent-line">
            <h2 class="text-3xl font-heading font-bold text-text-primary mb-4">
              How to Verify Your Coverage
            </h2>
          </div>
          <p class="subtitle">
            Follow these steps to confirm your mental health benefits before your first appointment.
          </p>
        </div>
      </div>

      <div class="lg:col-span-3 space-y-6 stagger-children">
        <div class="flex gap-4 fade-in fade-in-delay-1">
          <div class="step-indicator-gold flex-shrink-0">
            1
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-primary mb-1">Call Your Insurance Company</h3>
            <p class="text-text-secondary">Use the member services number on the back of your insurance card. Ask about your behavioral health or mental health benefits.</p>
          </div>
        </div>

        <div class="flex gap-4 fade-in fade-in-delay-2">
          <div class="step-indicator-gold flex-shrink-0">
            2
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-primary mb-1">Ask About Telehealth Coverage</h3>
            <p class="text-text-secondary">Confirm that virtual/telehealth therapy sessions are covered under your plan. Most plans now cover telehealth at the same rate as in-person visits.</p>
          </div>
        </div>

        <div class="flex gap-4 fade-in fade-in-delay-3">
          <div class="step-indicator-gold flex-shrink-0">
            3
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-primary mb-1">Verify Laurel Tree Counseling</h3>
            <p class="text-text-secondary">Ask if Laurel Tree Counseling (or our individual providers) are in-network. You can also ask about your deductible, copay, and session limits.</p>
          </div>
        </div>

        <div class="flex gap-4 fade-in fade-in-delay-4">
          <div class="step-indicator-gold flex-shrink-0">
            4
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-primary mb-1">Contact Us for Help</h3>
            <p class="text-text-secondary">Not sure about your coverage? Reach out to us and we'll help verify your benefits before your first appointment.</p>
          </div>
        </div>
      </div>
    </div>
  </Section>

  <!-- Other Payment Options -->
  <Section>
    <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-start">
      <div class="lg:col-span-2">
        <div class="accent-line">
          <h2 class="text-3xl font-heading font-bold text-text-primary mb-4">
            Other Payment Options
          </h2>
        </div>
        <p class="subtitle">
          We offer flexible alternatives for clients who don't have in-network coverage.
        </p>
      </div>

      <div class="lg:col-span-3 space-y-6 stagger-children">
        <div class="card fade-in fade-in-delay-1 flex gap-4">
          <div class="w-14 h-14 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0">
            <Icon name="FileText" size={28} class="text-accent" />
          </div>
          <div>
            <h3 class="text-xl font-bold text-text-primary mb-2">Out-of-Network Benefits</h3>
            <p class="text-text-secondary">
              If we're not in-network with your insurance, you may still have out-of-network benefits. We can provide a superbill (detailed receipt) that you can submit for potential reimbursement. Many clients receive 50-80% back.
            </p>
          </div>
        </div>

        <div class="card fade-in fade-in-delay-2 flex gap-4">
          <div class="w-14 h-14 rounded-full bg-accent-light flex items-center justify-center flex-shrink-0">
            <Icon name="CreditCard" size={28} class="text-accent" />
          </div>
          <div>
            <h3 class="text-xl font-bold text-text-primary mb-2">Private Pay</h3>
            <p class="text-text-secondary">
              We offer competitive private pay rates for those who prefer to pay out-of-pocket. Payment is due at time of service. Contact us for current rates—we accept all major credit cards.
            </p>
          </div>
        </div>
      </div>
    </div>
  </Section>

  <!-- Questions -->
  <Section background="elevated">
    <div class="grid lg:grid-cols-5 gap-8 lg:gap-16 items-center">
      <div class="lg:col-span-2 order-2 lg:order-1">
        <img
          src="/images/assets/telehealth_AdobeStock_427383325.jpeg"
          alt="Client comfortably accessing telehealth therapy from home"
          width="400"
          height="400"
          loading="lazy"
          class="w-full rounded-xl shadow-lg object-cover"
        />
      </div>
      <div class="lg:col-span-3 order-1 lg:order-2">
        <div class="accent-line">
          <h2 class="text-2xl font-heading font-bold text-text-primary mb-4">
            Questions About Insurance?
          </h2>
        </div>
        <p class="subtitle mb-6">
          Insurance can be confusing. We're here to help you understand your benefits and make mental health care as accessible as possible. We serve all of Michigan through telehealth.
        </p>
        <div class="flex flex-col sm:flex-row gap-4">
          <Button href="/contact" variant="primary">
            Contact Us
          </Button>
          <Button href="tel:586-244-8087" variant="secondary">
            Call 586-244-8087
          </Button>
        </div>
      </div>
    </div>
  </Section>

  <!-- CTA -->
  <CTA variant="surface" />
</BaseLayout>
