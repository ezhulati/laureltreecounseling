---
import BaseLayout from '../layouts/BaseLayout.astro';
import Section from '../components/Section.astro';
import CTA from '../components/CTA.astro';
import Icon from '../components/Icon.astro';
import { team } from '../data/team';

const teamSchema = {
  "@context": "https://schema.org",
  "@type": "MedicalOrganization",
  "name": "Laurel Tree Counseling",
  "url": "https://laureltreecounseling.com",
  "employee": [
    {
      "@type": "Person",
      "name": "Kristen Ross",
      "jobTitle": "Licensed Professional Counselor",
      "description": "LPC with 14+ years experience specializing in bariatric surgery support, anxiety, depression, trauma, and life transitions.",
      "knowsAbout": ["Bariatric Surgery Support", "Anxiety", "Depression", "Trauma", "Life Transitions", "Eating Disorders"]
    },
    {
      "@type": "Person",
      "name": "Michele Meyers",
      "jobTitle": "Licensed Psychologist",
      "description": "PsyD with 25 years experience in weight loss support, anxiety, depression, and emotional eating.",
      "knowsAbout": ["Weight Loss Support", "Anxiety", "Depression", "Emotional Eating", "Bariatric Surgery"]
    },
    {
      "@type": "Person",
      "name": "Meghan Pendleton",
      "jobTitle": "Registered Dietitian",
      "description": "RD specializing in weight-inclusive, trauma-informed nutrition therapy for eating disorders, GI health, and maternal health.",
      "knowsAbout": ["Eating Disorder Recovery", "GI Health", "Maternal Health", "Bariatric Support", "Nutrition Therapy"]
    }
  ]
};
---

<BaseLayout
  title="Our Team"
  description="Meet the compassionate team at Laurel Tree Counseling: Licensed counselors, psychologists, and dietitians dedicated to your wellness journey."
  ogImage="/images/assets/laurel_tree_counseling_8_(1).webp"
>
  <!-- Team Schema -->
  <script type="application/ld+json" set:html={JSON.stringify(teamSchema)} slot="head" />

  <!-- Hero -->
  <section class="relative bg-gradient-to-br from-primary to-primary-dark overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="/images/assets/laurel_tree_counseling_8_(1).webp"
        alt="Meet the licensed therapists and dietitians at Laurel Tree Counseling in Michigan"
        width="1920"
        height="1080"
        class="w-full h-full object-cover"
        loading="eager"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-primary/90 to-primary-dark/85"></div>
    </div>
    <div class="container-custom relative z-10 py-16 md:py-20">
      <div class="max-w-3xl">
        <div class="accent-line accent-line-white">
          <h1 class="text-4xl md:text-5xl font-heading font-bold text-white mb-6">
            Meet Our Team
          </h1>
        </div>
        <p class="text-xl text-white/90">
          Our compassionate team brings decades of combined experience in mental health, nutrition, and holistic wellness to support your journey.
        </p>
      </div>
    </div>
  </section>

  <!-- Team Members -->
  {team.map((member, index) => (
    <Section background={index % 2 === 0 ? 'default' : 'surface'} id={member.id}>
      <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-start">
        <!-- Photo -->
        <div class="lg:col-span-2">
          <div class="sticky top-24 fade-in">
            <img
              src={member.image}
              alt={`${member.name}, ${member.credentials}`}
              width="300"
              height="300"
              class="w-64 h-64 md:w-80 md:h-80 rounded-full mx-auto lg:mx-0 object-cover shadow-lg"
              loading="lazy"
            />
          </div>
        </div>

        <!-- Info -->
        <div class="lg:col-span-3">
          <header class="mb-6 fade-in fade-in-delay-1">
            <div class="accent-line">
              <h2 class="text-3xl font-heading font-bold text-text-primary">
                {member.name}, {member.credentials}
              </h2>
            </div>
            <p class="text-primary text-lg font-medium">{member.title}</p>
          </header>

          <!-- Bio -->
          <div class="space-y-4 text-text-secondary mb-8 stagger-children">
            {member.bio.map((paragraph, pIndex) => (
              <p class={`fade-in fade-in-delay-${pIndex + 2}`}>{paragraph}</p>
            ))}
          </div>

          <!-- Specializations & Education Grid -->
          <div class="grid sm:grid-cols-2 gap-6 sm:gap-8 fade-in fade-in-delay-5">
            <!-- Specializations -->
            <div>
              <h3 class="text-sm font-semibold text-text-primary uppercase tracking-wide mb-3">
                Specializations
              </h3>
              <div class="flex flex-wrap gap-2">
                {member.specializations.map((spec) => (
                  <span class="badge">{spec}</span>
                ))}
              </div>
            </div>

            <!-- Education -->
            <div>
              <h3 class="text-sm font-semibold text-text-primary uppercase tracking-wide mb-3">
                Education & Credentials
              </h3>
              <ul class="space-y-1">
                {member.education.map((edu) => (
                  <li class="flex items-center gap-2 text-text-secondary">
                    <Icon name="Check" size={20} class="text-primary flex-shrink-0" />
                    {edu}
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>
      </div>
    </Section>
  ))}

  <!-- CTA -->
  <CTA
    title="Find the Right Clinician for You"
    description="Book a free consultation to meet with one of our team members and see if we're a good fit."
  />
</BaseLayout>
