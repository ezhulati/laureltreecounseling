---
interface Props {
  slug: string;
  title: string;
  excerpt: string;
  category: string;
  author: string;
  publishDate: string;
  readTime: string;
  featured?: boolean;
}

const { slug, title, excerpt, category, author, publishDate, readTime, featured } = Astro.props;

const formattedDate = new Date(publishDate).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<article class:list={['card group h-full flex flex-col relative', featured && 'ring-2 ring-primary/20']}>
  <!-- Full card clickable link -->
  <a href={`/blog/${slug}`} class="absolute inset-0 z-10" aria-label={`Read article: ${title}`}>
    <span class="sr-only">Read {title}</span>
  </a>

  <!-- Category Badge -->
  <div class="mb-4">
    <span class="badge">{category}</span>
  </div>

  <!-- Title -->
  <h3 class="text-xl font-heading font-bold text-text-primary mb-3 group-hover:text-primary transition-colors leading-snug">
    {title}
  </h3>

  <!-- Excerpt -->
  <p class="text-text-secondary text-sm leading-relaxed mb-4 flex-grow line-clamp-3">
    {excerpt}
  </p>

  <!-- Meta -->
  <div class="flex flex-wrap items-center gap-2 text-xs text-text-tertiary mb-4 pt-4 border-t border-border">
    <span>{formattedDate}</span>
    <span aria-hidden="true">Â·</span>
    <span>{readTime}</span>
  </div>

  <!-- Author & Visual Link Indicator -->
  <div class="flex items-center justify-between">
    <span class="text-sm text-text-secondary">By {author}</span>
    <span class="text-primary font-medium text-sm inline-flex items-center gap-1">
      Read article
      <svg class="w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </span>
  </div>
</article>
