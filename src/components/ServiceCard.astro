---
import Icon from './Icon.astro';
import { serviceIcons, type ServiceIconKey } from '../lib/icons';

interface Props {
  title: string;
  description: string;
  icon?: ServiceIconKey;
  href?: string;
}

const { title, description, icon = 'default', href } = Astro.props;
const iconName = serviceIcons[icon] || serviceIcons.default;
---

<article class="card group h-full flex flex-col relative">
  <!-- Full card clickable link -->
  {href && (
    <a href={href} class="absolute inset-0 z-10" aria-label={`Learn more about ${title}`}>
      <span class="sr-only">Learn more about {title}</span>
    </a>
  )}

  <!-- Icon -->
  <div class="w-14 h-14 rounded-lg bg-primary-light flex items-center justify-center mb-5 group-hover:bg-primary transition-colors duration-fast">
    <Icon
      name={iconName}
      size={28}
      class="text-primary group-hover:text-white transition-colors duration-fast"
    />
  </div>

  <!-- Content -->
  <h3 class="text-2xl font-heading font-bold text-text-primary mb-3 group-hover:text-primary transition-colors">
    {title}
  </h3>

  <p class="text-text-secondary text-base leading-relaxed flex-grow mb-4">
    {description}
  </p>

  <!-- Visual Link Indicator -->
  {href && (
    <span class="text-primary font-medium text-sm inline-flex items-center gap-1 mt-auto">
      See how we can help
      <Icon
        name="ChevronRight"
        size={16}
        class="transition-transform group-hover:translate-x-1"
      />
    </span>
  )}
</article>
