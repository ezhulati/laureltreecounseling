---
import Icon from './Icon.astro';

interface Props {
  name: string;
  title: string;
  credentials: string;
  image: string;
  bio: string;
  specializations?: string[];
  href?: string;
}

const {
  name,
  title,
  credentials,
  image,
  bio,
  specializations = [],
  href,
} = Astro.props;
---

<article class="card text-center group relative h-full flex flex-col">
  <!-- Full card clickable link -->
  {href && (
    <a href={href} class="absolute inset-0 z-10" aria-label={`Read full bio of ${name}`}>
      <span class="sr-only">Read full bio of {name}</span>
    </a>
  )}

  <!-- Photo -->
  <div class="relative mb-6 mx-auto w-40 h-40 md:w-48 md:h-48 flex-shrink-0">
    <img
      src={image}
      alt={`${name}, ${credentials}`}
      width="192"
      height="192"
      loading="lazy"
      class="w-full h-full object-cover rounded-full shadow-md transition-transform duration-fast group-hover:scale-105"
    />
  </div>

  <!-- Info -->
  <header class="mb-4 flex-shrink-0">
    <h3 class="text-xl font-heading font-bold text-text-primary mb-1 group-hover:text-primary transition-colors">
      {name}, {credentials}
    </h3>
    <p class="text-primary font-medium">{title}</p>
  </header>

  <!-- Bio -->
  <p class="text-text-secondary text-sm leading-relaxed mb-4 line-clamp-3 flex-shrink-0">
    {bio}
  </p>

  <!-- Specializations - fixed height container for consistency -->
  <div class="flex-grow flex flex-col justify-start">
    {specializations.length > 0 && (
      <div class="flex flex-wrap justify-center gap-2 mb-4">
        {specializations.slice(0, 3).map((spec) => (
          <span class="badge-gold text-xs">{spec}</span>
        ))}
      </div>
    )}
  </div>

  <!-- Visual Link Indicator - always at bottom -->
  {href && (
    <span class="text-primary font-medium text-sm inline-flex items-center justify-center gap-1 mt-auto pt-2">
      Read full bio
      <Icon name="ChevronRight" size={16} class="transition-transform group-hover:translate-x-1" />
    </span>
  )}
</article>
