/* ============================================
   LAUREL TREE COUNSELING - DESIGN SYSTEM
   ============================================

   COLORS:
   - Primary Green: #008556 (hsl 158, 100%, 26%)
   - Michigan Gold: #f6c401 (hsl 48, 99%, 48%)

   The gold accent creates local Michigan connection
   and adds visual warmth. Use for:
   - Accent lines (default)
   - Highlight badges (.badge-gold)
   - Icon containers (.icon-container-gold)
   - CTA emphasis (.btn-gold)

   MOBILE-FIRST BREAKPOINTS:
   - Default: Mobile (< 640px)
   - sm: 640px  - Large phones, small tablets
   - md: 768px  - Tablets
   - lg: 1024px - Laptops, desktops
   - xl: 1280px - Large desktops

   TYPOGRAPHY SCALE (Major Third 1.25):
   - xs:   0.8rem   - Fine print, labels (AVOID - too small)
   - sm:   1rem     - Badges, tags, meta text only
   - base: 1.125rem - Body text, descriptions
   - lg:   1.406rem - Lead paragraphs, emphasized body
   - xl:   1.758rem - Card headings, feature titles
   - 2xl:  2.197rem - Section subheadings
   - 3xl:  2.747rem - Section headings
   - 4xl:  3.433rem - Page titles (mobile)
   - 5xl:  4.291rem - Page titles (desktop)

   MOBILE TYPOGRAPHY ADJUSTMENTS:
   - Hero h1: text-3xl → md:text-4xl → lg:text-5xl
   - Section h2: text-2xl → md:text-3xl
   - Card h3: text-lg → md:text-xl
   - Body: base size stays consistent (1.125rem)

   TYPOGRAPHY RULES:
   - Card headings: ALWAYS text-xl font-bold (never text-sm/text-lg)
   - Body/descriptions: text-text-secondary (base size, no text-sm/text-xs)
   - Feature titles: text-xl font-bold OR text-lg font-bold
   - Process step titles: text-xl font-bold (centered) or text-lg font-bold (inline)
   - Never use text-xs for body text (only badges/tags)
   - Never use text-sm for descriptions (use base size)
   - Always use font-bold for headings (not font-semibold)

   TOUCH TARGETS (Mobile):
   - Minimum: 44x44px (Apple HIG) / 48x48px (Material)
   - Use .touch-target class for interactive elements
   - Buttons already have min-h-[48px]

   ICON SIZES (use with SVG elements):
   - Small:  w-4 h-4 (16px) - Inline with text, chevrons
   - Medium: w-5 h-5 (20px) - List checkmarks
   - Large:  w-6 h-6 (24px) - Small feature cards
   - XL:     w-7 h-7 (28px) - Feature cards, hero icons

   ICON CONTAINERS (circular backgrounds):
   - w-10 h-10 - Mobile compact (use sparingly)
   - w-12 h-12 - Process step numbers, compact features
   - w-14 h-14 - Feature cards, hero sections (PREFERRED)

   CONTAINER + ICON PAIRINGS:
   - w-10 h-10 container → w-5 h-5 icon (mobile only)
   - w-12 h-12 container → w-6 h-6 icon
   - w-14 h-14 container → w-7 h-7 icon

   SPACING (8-point grid):
   - gap-2 (16px) - Tight groupings
   - gap-3 (24px) - Related items
   - gap-4 (32px) - Feature items with icons
   - gap-6 (48px) - Card grids
   - gap-8 (64px) - Section content

   MOBILE SPACING ADJUSTMENTS:
   - Section padding: py-12 → md:py-16 → lg:py-24
   - Container padding: px-4 → sm:px-6 → lg:px-8
   - Grid gaps: gap-4 → md:gap-6 → lg:gap-8

   ============================================ */

/* Google Fonts - must be first */
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Work+Sans:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Global Reset */
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-body text-base text-text-primary bg-background antialiased;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* ----------------------------------------
     TYPOGRAPHY HIERARCHY
     ----------------------------------------
     Elite UI/UX: Contextual line-heights
     (1.1 headings, 1.5 body, 1.7 healthcare)
     and extreme font weight contrast.
     ---------------------------------------- */
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading text-text-primary;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  /* Page titles - Hero headings */
  h1 {
    @apply text-4xl md:text-5xl;
    line-height: 1.1;
  }

  /* Section headings */
  h2 {
    @apply text-3xl md:text-4xl;
    line-height: 1.1;
  }

  /* Card/subsection headings */
  h3 {
    @apply text-2xl md:text-3xl;
    line-height: 1.2;
  }

  /* Minor headings */
  h4 {
    @apply text-xl md:text-2xl;
    line-height: 1.3;
  }

  /* Body text - Healthcare: generous line-height (1.7) */
  p {
    @apply text-base;
    line-height: 1.7;
  }

  /* Subtitle - Light weight for contrast */
  .subtitle {
    @apply font-body text-text-secondary text-lg;
    font-weight: 300;
    line-height: 1.5;
  }

  /* Only apply default link styles to links without explicit color classes */
  a:where(:not([class*="text-"]):not([class*="btn"])) {
    @apply text-primary hover:text-primary-hover transition-colors duration-fast;
  }

  /* Focus States */
  :focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2;
  }

  /* Selection */
  ::selection {
    @apply bg-primary-light text-primary-dark;
  }
}

@layer components {
  /* ----------------------------------------
     BUTTONS
     ---------------------------------------- */
  .btn {
    @apply inline-flex items-center justify-center
           px-6 py-3 min-h-[48px]
           font-body font-semibold text-base
           rounded-md whitespace-nowrap
           transition-all duration-fast ease-out-expo
           focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
  }

  .btn-primary {
    @apply btn bg-primary text-text-inverse
           hover:bg-primary-hover hover:-translate-y-0.5 hover:shadow-md
           active:translate-y-0 active:shadow-soft;
  }

  .btn-secondary {
    @apply btn bg-background-surface text-primary border border-border
           hover:border-primary hover:-translate-y-0.5
           active:translate-y-0;
  }

  .btn-outline {
    @apply btn bg-transparent text-primary border-2 border-primary
           hover:bg-primary hover:text-text-inverse hover:-translate-y-0.5
           active:translate-y-0;
  }

  .btn-accent {
    @apply btn bg-accent text-text-inverse
           hover:bg-accent-hover hover:-translate-y-0.5 hover:shadow-md
           active:translate-y-0;
  }

  .btn-gold {
    @apply btn text-text-primary
           hover:-translate-y-0.5 hover:shadow-md
           active:translate-y-0;
    background-color: hsl(48, 99%, 48%); /* gold */
  }
  .btn-gold:hover {
    background-color: hsl(48, 99%, 42%); /* gold-hover */
  }

  /* ----------------------------------------
     ICON CONTAINERS
     ----------------------------------------
     Circular containers for icons with
     primary-light background.

     PREFERRED: Use icon-container (w-14) for features
     Use icon-container-sm (w-12) only for compact layouts

     Pairings:
     - icon-container-sm (w-12) → icon-lg (w-6)
     - icon-container (w-14) → icon-xl (w-7)

     Usage:
     <div class="icon-container">
       <svg class="icon-xl text-primary">...</svg>
     </div>
     ---------------------------------------- */
  .icon-container-sm {
    @apply flex-shrink-0 w-12 h-12 rounded-full bg-primary-light
           flex items-center justify-center;
  }

  /* Default - use this for feature cards */
  .icon-container,
  .icon-container-lg,
  .icon-container-xl {
    @apply flex-shrink-0 w-14 h-14 rounded-full bg-primary-light
           flex items-center justify-center;
  }

  /* Gold variant for Michigan accent */
  .icon-container-gold {
    @apply flex-shrink-0 w-14 h-14 rounded-full
           flex items-center justify-center;
    background-color: hsl(48, 90%, 92%); /* gold-light */
  }

  /* Icon sizes (use with SVG elements) */
  .icon-sm { @apply w-4 h-4; }   /* Inline, chevrons */
  .icon-md { @apply w-5 h-5; }   /* List checkmarks */
  .icon-lg { @apply w-6 h-6; }   /* Pair with icon-container-sm */
  .icon-xl { @apply w-7 h-7; }   /* Pair with icon-container */

  /* ----------------------------------------
     STEP INDICATORS
     ----------------------------------------
     Numbered circles for process steps.
     Always use step-indicator (w-12) as minimum.

     Usage:
     <div class="step-indicator">1</div>
     <h3 class="step-title">Step Name</h3>
     <p class="step-desc">Description</p>
     ---------------------------------------- */
  .step-indicator {
    @apply flex-shrink-0 w-12 h-12 rounded-full
           bg-primary text-white
           flex items-center justify-center
           text-lg font-bold;
  }

  .step-indicator-gold {
    @apply flex-shrink-0 w-12 h-12 rounded-full
           text-text-primary
           flex items-center justify-center
           text-lg font-bold;
    background-color: hsl(48, 99%, 48%); /* gold */
  }

  .step-title {
    @apply text-xl font-bold text-text-primary mb-2;
  }

  .step-title-inline {
    @apply text-lg font-bold text-text-primary mb-1;
  }

  .step-desc {
    @apply text-text-secondary;
  }

  /* ----------------------------------------
     FEATURE ITEMS
     ----------------------------------------
     Icon + text pattern for feature lists.
     Always use proper sizing - no small variants!

     Usage:
     <div class="feature-item">
       <div class="icon-container">
         <svg class="icon-xl text-primary">...</svg>
       </div>
       <div>
         <h3 class="feature-title">Title</h3>
         <p class="feature-desc">Description</p>
       </div>
     </div>

     Centered variant (3-column grids):
     <div class="feature-item-centered">
       <div class="icon-container">...</div>
       <h3 class="feature-title">Title</h3>
       <p class="feature-desc">Description</p>
     </div>
     ---------------------------------------- */
  .feature-item {
    @apply flex gap-4;
  }

  .feature-item-centered {
    @apply text-center;
  }

  .feature-item-centered .icon-container,
  .feature-item-centered .icon-container-sm {
    @apply mx-auto mb-4;
  }

  .feature-title {
    @apply text-lg md:text-xl font-bold text-text-primary mb-2;
  }

  .feature-desc {
    @apply text-text-secondary;
    /* Base size - never use text-sm or text-xs */
  }

  /* ----------------------------------------
     MOBILE-RESPONSIVE FEATURE GRID
     ----------------------------------------
     Stacks on mobile, 2-col on tablet, 3-col on desktop.
     ---------------------------------------- */
  .feature-grid {
    @apply grid gap-6 md:gap-8;
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .feature-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .feature-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* ----------------------------------------
     CARDS
     ---------------------------------------- */
  .card {
    @apply bg-background-surface rounded-lg shadow-soft p-6
           transition-shadow duration-fast ease-out-expo
           hover:shadow-soft-hover;
  }

  /* Clickable cards (as links or with internal links) */
  a.card,
  .card.group {
    @apply cursor-pointer transition-all;
  }

  a.card:hover,
  .card.group:hover {
    @apply -translate-y-1 shadow-md;
  }

  /* Focus styles for clickable cards */
  a.card:focus-visible,
  .card.group:focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 -translate-y-1;
  }

  /* Card headings - ALWAYS use text-xl font-bold
     Never use text-sm, text-lg, or font-semibold for card titles */
  .card-title {
    @apply text-xl font-bold text-text-primary mb-3;
  }

  /* Card description - base size, no text-sm */
  .card-desc {
    @apply text-text-secondary;
  }

  /* ----------------------------------------
     SECTIONS
     ----------------------------------------
     Mobile-first padding that scales up.
     ---------------------------------------- */
  .section {
    @apply py-12 md:py-16 lg:py-24;
  }

  .section-sm {
    @apply py-8 md:py-12 lg:py-16;
  }

  .section-lg {
    @apply py-16 md:py-20 lg:py-32;
  }

  /* Container with proper mobile padding */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Narrower container for content-heavy pages */
  .container-narrow {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* ----------------------------------------
     BADGES & TAGS
     ---------------------------------------- */
  .badge {
    @apply inline-flex items-center px-3 py-1
           text-sm font-medium rounded-full
           bg-primary-light text-primary;
  }

  .badge-gold {
    @apply inline-flex items-center px-3 py-1
           text-sm font-medium rounded-full;
    background-color: hsl(48, 90%, 92%); /* gold-light */
    color: hsl(48, 99%, 38%); /* gold-dark */
  }

  /* ----------------------------------------
     FORM ELEMENTS
     ---------------------------------------- */
  .input {
    @apply w-full px-4 py-3 min-h-[48px]
           text-base text-text-primary
           bg-background-surface border border-border rounded-md
           transition-all duration-fast
           placeholder:text-text-tertiary
           hover:border-border-hover
           focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none;
  }

  .textarea {
    @apply input min-h-[120px] resize-y;
  }

  .label {
    @apply block text-sm font-medium text-text-primary mb-2;
  }

  /* ----------------------------------------
     LIST ITEMS WITH ICONS
     ----------------------------------------
     For simple lists with checkmarks or icons.

     Usage:
     <li class="list-item-check">
       <svg class="list-icon">...</svg>
       <span>Item text</span>
     </li>
     ---------------------------------------- */
  .list-item-check {
    @apply flex items-center gap-2 text-text-secondary;
  }

  .list-icon {
    @apply w-4 h-4 text-primary flex-shrink-0;
  }

  .list-icon-md {
    @apply w-5 h-5 text-primary flex-shrink-0;
  }

  /* ----------------------------------------
     TOUCH TARGETS
     ----------------------------------------
     Ensures minimum 44x44px touch area
     for mobile accessibility.
     ---------------------------------------- */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* ----------------------------------------
     MOBILE-RESPONSIVE ICON CONTAINERS
     ----------------------------------------
     Scales down on mobile, up on desktop.
     ---------------------------------------- */
  .icon-container-responsive {
    @apply flex-shrink-0 w-12 h-12 md:w-14 md:h-14 rounded-full bg-primary-light
           flex items-center justify-center;
  }

  .icon-container-responsive svg {
    @apply w-6 h-6 md:w-7 md:h-7;
  }

  /* ----------------------------------------
     MOBILE-RESPONSIVE TYPOGRAPHY
     ----------------------------------------
     Card/feature titles that scale with screen.
     ---------------------------------------- */
  .title-responsive {
    @apply text-lg md:text-xl font-bold text-text-primary;
  }

  .title-responsive-lg {
    @apply text-xl md:text-2xl font-bold text-text-primary;
  }
}

@layer utilities {
  /* ----------------------------------------
     MAX WIDTHS
     ---------------------------------------- */
  .max-w-prose {
    max-width: 65ch;
  }

  .max-w-heading {
    max-width: 40ch;
  }

  /* ----------------------------------------
     HERO PATTERNS
     ---------------------------------------- */
  .hero-gradient {
    background: linear-gradient(
      135deg,
      hsl(158, 100%, 26%, 0.9) 0%,
      hsl(158, 80%, 20%, 0.95) 100%
    );
  }

  /* Centered hero content pattern */
  .hero-content {
    @apply max-w-3xl mx-auto text-center;
  }

  /* ----------------------------------------
     ASYMMETRIC LAYOUTS
     ----------------------------------------
     Elite UI/UX: Break the symmetry to
     avoid AI-generated look.
     ---------------------------------------- */

  /* Offset container - not centered */
  .offset-left {
    margin-left: 8%;
    margin-right: auto;
  }

  .offset-right {
    margin-left: auto;
    margin-right: 8%;
  }

  /* Staggered grid positioning */
  .stagger-up:nth-child(2n) {
    transform: translateY(-1rem);
  }

  .stagger-down:nth-child(2n) {
    transform: translateY(1rem);
  }

  /* ----------------------------------------
     STAGGERED FADE-IN ANIMATIONS
     ----------------------------------------
     Elite UI/UX: Elements should appear
     with staggered delays, not all at once.
     ---------------------------------------- */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .fade-in-delay-1 { animation-delay: 0.1s; }
  .fade-in-delay-2 { animation-delay: 0.2s; }
  .fade-in-delay-3 { animation-delay: 0.3s; }
  .fade-in-delay-4 { animation-delay: 0.4s; }
  .fade-in-delay-5 { animation-delay: 0.5s; }
  .fade-in-delay-6 { animation-delay: 0.6s; }

  /* Group stagger - auto-delays for children */
  .stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
  .stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
  .stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
  .stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
  .stagger-children > *:nth-child(5) { animation-delay: 0.5s; }
  .stagger-children > *:nth-child(6) { animation-delay: 0.6s; }

  /* ----------------------------------------
     SCROLL ANIMATIONS
     ----------------------------------------
     For horizontal scrolling elements like
     insurance logos.
     ---------------------------------------- */
  .scroll-container {
    @apply overflow-hidden relative;
    mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
  }

  .scroll-content {
    @apply flex gap-12;
    animation: scroll 20s linear infinite;
  }

  .scroll-content:hover {
    animation-play-state: paused;
  }

  /* ----------------------------------------
     VISUAL INTEREST
     ---------------------------------------- */

  /* ----------------------------------------
     DECORATIVE ACCENT LINES
     ----------------------------------------
     Uses Michigan Gold for local connection
     and visual warmth.
     ---------------------------------------- */
  .accent-line::before {
    content: '';
    display: block;
    width: 60px;
    height: 3px;
    background: hsl(48, 99%, 48%); /* Michigan Gold */
    margin-bottom: 1.5rem;
  }

  .accent-line-center::before {
    margin-left: auto;
    margin-right: auto;
  }

  /* Primary green variant */
  .accent-line-primary::before {
    background: hsl(158, 100%, 26%);
  }
}

/* ----------------------------------------
   KEYFRAME ANIMATIONS
   ---------------------------------------- */
@keyframes scroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

/* Scrolling animation class */
.animate-scroll {
  animation: scroll 3s linear infinite;
}

@media (min-width: 768px) {
  .animate-scroll {
    animation: scroll 25s linear infinite;
  }
}

.animate-scroll:hover {
  animation-play-state: paused;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  html {
    scroll-behavior: auto;
  }
}

/* ----------------------------------------
   MOBILE-SPECIFIC STYLES
   ---------------------------------------- */

/* Safe area insets for notched devices (iPhone X+) */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  /* Apply to sticky header automatically */
  header.sticky {
    padding-top: env(safe-area-inset-top);
  }

  /* Apply to fixed bottom elements */
  .fixed-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Prevent horizontal scroll on mobile */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* Improve tap highlight on mobile */
@media (hover: none) and (pointer: coarse) {
  /* Mobile touch devices */
  a, button {
    -webkit-tap-highlight-color: rgba(0, 133, 86, 0.1);
  }

  /* Larger touch targets on mobile */
  .touch-target-auto {
    min-height: 48px;
    min-width: 48px;
  }
}

/* Prevent font size adjustment on orientation change */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* ----------------------------------------
   RESPONSIVE GRID UTILITIES
   ---------------------------------------- */

/* Stack on mobile, grid on larger screens */
.stack-to-grid {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

@media (min-width: 768px) {
  .stack-to-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
  }
}

@media (min-width: 1024px) {
  .stack-to-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Mobile-first section padding */
.section-padding {
  padding-top: 3rem;
  padding-bottom: 3rem;
}

@media (min-width: 768px) {
  .section-padding {
    padding-top: 4rem;
    padding-bottom: 4rem;
  }
}

@media (min-width: 1024px) {
  .section-padding {
    padding-top: 6rem;
    padding-bottom: 6rem;
  }
}
